<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desinsight Î∂ÑÏÇ∞ RAG ÏÉùÌÉúÍ≥Ñ Î™®ÎãàÌÑ∞ÎßÅ v2.0</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff; 
            min-height: 100vh;
            overflow-x: auto;
        }
        
        .header { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px; 
            text-align: center;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);
            position: relative;
        }
        
        .status-indicator {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .connection-status {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #4CAF50;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(76, 175, 80, 0); }
            100% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0); }
        }
        
        h1 { margin: 0; font-size: 2.5em; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        .subtitle { color: #e8eaff; margin-top: 10px; font-size: 1.1em; }
        
        .main-container {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 20px;
            padding: 20px;
            max-width: 1800px;
            margin: 0 auto;
        }
        
        .devices-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
        }
        
        .device-card {
            background: linear-gradient(145deg, #1e1e2f, #2a2a3e);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid #3a3a4e;
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .device-card:hover { 
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.2);
        }
        
        .device-card.active { border-left: 4px solid #4CAF50; }
        .device-card.pending { border-left: 4px solid #FF9800; }
        .device-card.offline { border-left: 4px solid #F44336; }
        
        .device-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .device-name {
            font-size: 1.2em;
            font-weight: bold;
            color: #ffffff;
        }
        
        .device-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        .status-dot.green { background: #4CAF50; }
        .status-dot.yellow { background: #FF9800; }
        .status-dot.red { background: #F44336; }
        
        .device-role {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 10px;
            display: inline-block;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 15px 0;
        }
        
        .metric {
            background: rgba(255,255,255,0.05);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.85em;
        }
        
        .metric-label {
            color: #8892b0;
            font-size: 0.8em;
            margin-bottom: 2px;
        }
        
        .metric-value {
            font-weight: bold;
            color: #4CAF50;
        }
        
        .resource-bars {
            margin: 10px 0;
        }
        
        .resource-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 8px 0;
        }
        
        .resource-label {
            font-size: 0.8em;
            color: #8892b0;
            min-width: 40px;
        }
        
        .progress-bar {
            flex: 1;
            height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            margin: 0 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            border-radius: 3px;
            transition: width 0.3s ease;
        }
        
        .progress-fill.warning { background: linear-gradient(90deg, #FF9800, #FFC107); }
        .progress-fill.danger { background: linear-gradient(90deg, #F44336, #FF5722); }
        
        .resource-percent {
            font-size: 0.8em;
            color: #ffffff;
            min-width: 35px;
            text-align: right;
        }
        
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .sidebar-panel {
            background: linear-gradient(145deg, #1e1e2f, #2a2a3e);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid #3a3a4e;
        }
        
        .panel-title {
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #667eea;
        }
        
        .alert {
            padding: 10px;
            border-radius: 6px;
            margin: 8px 0;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .alert.info { background: rgba(33, 150, 243, 0.1); border-left: 3px solid #2196F3; }
        .alert.warning { background: rgba(255, 152, 0, 0.1); border-left: 3px solid #FF9800; }
        .alert.error { background: rgba(244, 67, 54, 0.1); border-left: 3px solid #F44336; }
        
        .nas-status {
            display: grid;
            gap: 10px;
        }
        
        .nas-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            background: rgba(255,255,255,0.05);
            border-radius: 6px;
        }
        
        .nas-name {
            font-size: 0.9em;
            color: #ffffff;
        }
        
        .nas-status-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.8em;
        }
        
        .performance-chart {
            height: 120px;
            background: rgba(255,255,255,0.05);
            border-radius: 6px;
            margin: 10px 0;
            display: flex;
            align-items: end;
            padding: 10px;
            gap: 2px;
        }
        
        .chart-bar {
            flex: 1;
            background: linear-gradient(to top, #667eea, #764ba2);
            border-radius: 1px;
            min-height: 5px;
            opacity: 0.7;
            transition: all 0.3s ease;
        }
        
        .chart-bar:hover {
            opacity: 1;
            transform: scaleY(1.1);
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background: linear-gradient(145deg, #1e1e2f, #2a2a3e);
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 80%;
            max-width: 800px;
            border: 1px solid #3a3a4e;
        }
        
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .close:hover { color: #fff; }
        
        @media (max-width: 768px) {
            .main-container {
                grid-template-columns: 1fr;
            }
            .devices-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="status-indicator">
            <div class="connection-status"></div>
            <span id="lastUpdate">Ïã§ÏãúÍ∞Ñ Ïó∞Í≤∞</span>
        </div>
        <h1>üèóÔ∏è Desinsight Î∂ÑÏÇ∞ RAG ÏÉùÌÉúÍ≥Ñ</h1>
        <div class="subtitle">5-Device + 3-NAS Ïã§ÏãúÍ∞Ñ Î™®ÎãàÌÑ∞ÎßÅ ÎåÄÏãúÎ≥¥Îìú v2.0</div>
    </div>
    
    <div class="main-container">
        <div class="devices-grid">
            <!-- HOME iMac (ÌòÑÏû¨ ÌôúÏÑ±) -->
            <div class="device-card active" onclick="showDeviceDetails('home_imac')">
                <div class="device-header">
                    <div class="device-name">üñ•Ô∏è HOME iMac i7 64GB</div>
                    <div class="device-status">
                        <div class="status-dot green"></div>
                        <span>ÌôúÏÑ±</span>
                    </div>
                </div>
                <div class="device-role">Ï§ëÏïô Ï†úÏñ¥ ÏÑúÎ≤Ñ</div>
                
                <div class="resource-bars">
                    <div class="resource-bar">
                        <span class="resource-label">CPU</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 23%"></div>
                        </div>
                        <span class="resource-percent">23%</span>
                    </div>
                    <div class="resource-bar">
                        <span class="resource-label">RAM</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 41%"></div>
                        </div>
                        <span class="resource-percent">41%</span>
                    </div>
                    <div class="resource-bar">
                        <span class="resource-label">ÎîîÏä§ÌÅ¨</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 67%"></div>
                        </div>
                        <span class="resource-percent">67%</span>
                    </div>
                </div>
                
                <div class="metrics-grid">
                    <div class="metric">
                        <div class="metric-label">ÏùëÎãµÏãúÍ∞Ñ</div>
                        <div class="metric-value">12ms</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Ïò®ÎèÑ</div>
                        <div class="metric-value">42¬∞C</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">ÌôúÏÑ± ÏûëÏóÖ</div>
                        <div class="metric-value">7Í∞ú</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">ÏóÖÌÉÄÏûÑ</div>
                        <div class="metric-value">2d 14h</div>
                    </div>
                </div>
            </div>
            
            <!-- Mac Mini M2 Pro -->
            <div class="device-card pending" onclick="showDeviceDetails('mac_mini')">
                <div class="device-header">
                    <div class="device-name">‚ö° Mac Mini M2 Pro 32GB</div>
                    <div class="device-status">
                        <div class="status-dot yellow"></div>
                        <span>Ïó∞Í≤∞ Ï§ë</span>
                    </div>
                </div>
                <div class="device-role">ÏûÑÎ≤†Îî© ÏÑúÎ≤Ñ</div>
                
                <div class="resource-bars">
                    <div class="resource-bar">
                        <span class="resource-label">CPU</span>
                        <div class="progress-bar">
                            <div class="progress-fill warning" style="width: 78%"></div>
                        </div>
                        <span class="resource-percent">78%</span>
                    </div>
                    <div class="resource-bar">
                        <span class="resource-label">RAM</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 56%"></div>
                        </div>
                        <span class="resource-percent">56%</span>
                    </div>
                    <div class="resource-bar">
                        <span class="resource-label">GPU</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 34%"></div>
                        </div>
                        <span class="resource-percent">34%</span>
                    </div>
                </div>
                
                <div class="metrics-grid">
                    <div class="metric">
                        <div class="metric-label">ÏûÑÎ≤†Îî©/Î∂Ñ</div>
                        <div class="metric-value">847Í∞ú</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">ÎåÄÍ∏∞Ïó¥</div>
                        <div class="metric-value">23Í∞ú</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Ï≤òÎ¶¨ÏÜçÎèÑ</div>
                        <div class="metric-value">2.3MB/s</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Ïò§Î•òÏú®</div>
                        <div class="metric-value">0.2%</div>
                    </div>
                </div>
            </div>
            
            <!-- Office iMac -->
            <div class="device-card pending" onclick="showDeviceDetails('office_imac')">
                <div class="device-header">
                    <div class="device-name">üè¢ Office iMac i7 40GB</div>
                    <div class="device-status">
                        <div class="status-dot yellow"></div>
                        <span>ÎåÄÍ∏∞</span>
                    </div>
                </div>
                <div class="device-role">UI ÏÑúÎ≤Ñ</div>
                
                <div class="resource-bars">
                    <div class="resource-bar">
                        <span class="resource-label">CPU</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 15%"></div>
                        </div>
                        <span class="resource-percent">15%</span>
                    </div>
                    <div class="resource-bar">
                        <span class="resource-label">RAM</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 28%"></div>
                        </div>
                        <span class="resource-percent">28%</span>
                    </div>
                    <div class="resource-bar">
                        <span class="resource-label">ÎÑ§Ìä∏ÏõåÌÅ¨</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 45%"></div>
                        </div>
                        <span class="resource-percent">45%</span>
                    </div>
                </div>
                
                <div class="metrics-grid">
                    <div class="metric">
                        <div class="metric-label">ÌôúÏÑ± ÏÑ∏ÏÖò</div>
                        <div class="metric-value">0Í∞ú</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Ïó∞Í≤∞ ÎåÄÍ∏∞</div>
                        <div class="metric-value">ÏÑ§Ï†ï Ï§ë</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Ìè¨Ìä∏</div>
                        <div class="metric-value">8004</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">ÏÉÅÌÉú</div>
                        <div class="metric-value">Ï§ÄÎπÑ</div>
                    </div>
                </div>
            </div>
            
            <!-- Mac Studio M4 Pro -->
            <div class="device-card pending" onclick="showDeviceDetails('mac_studio')">
                <div class="device-header">
                    <div class="device-name">üöÄ Mac Studio M4 Pro 64GB</div>
                    <div class="device-status">
                        <div class="status-dot yellow"></div>
                        <span>Ï§ÄÎπÑ Ï§ë</span>
                    </div>
                </div>
                <div class="device-role">Ï∂îÎ°† ÏÑúÎ≤Ñ</div>
                
                <div class="resource-bars">
                    <div class="resource-bar">
                        <span class="resource-label">CPU</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 8%"></div>
                        </div>
                        <span class="resource-percent">8%</span>
                    </div>
                    <div class="resource-bar">
                        <span class="resource-label">RAM</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 12%"></div>
                        </div>
                        <span class="resource-percent">12%</span>
                    </div>
                    <div class="resource-bar">
                        <span class="resource-label">GPU</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 5%"></div>
                        </div>
                        <span class="resource-percent">5%</span>
                    </div>
                </div>
                
                <div class="metrics-grid">
                    <div class="metric">
                        <div class="metric-label">Î™®Îç∏ Î°úÎìú</div>
                        <div class="metric-value">ÎåÄÍ∏∞</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Ï∂îÎ°† ÏÜçÎèÑ</div>
                        <div class="metric-value">-</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">ÎèôÏãú ÏöîÏ≤≠</div>
                        <div class="metric-value">0/50</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Î™®Îç∏ ÌÅ¨Í∏∞</div>
                        <div class="metric-value">70B</div>
                    </div>
                </div>
            </div>
            
            <!-- Mobile Ecosystem -->
            <div class="device-card offline" onclick="showDeviceDetails('mobile')">
                <div class="device-header">
                    <div class="device-name">üì± Mobile Ecosystem</div>
                    <div class="device-status">
                        <div class="status-dot red"></div>
                        <span>Ïò§ÌîÑÎùºÏù∏</span>
                    </div>
                </div>
                <div class="device-role">ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏</div>
                
                <div class="resource-bars">
                    <div class="resource-bar">
                        <span class="resource-label">iPhone</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%"></div>
                        </div>
                        <span class="resource-percent">Ïò§ÌîÑÎùºÏù∏</span>
                    </div>
                    <div class="resource-bar">
                        <span class="resource-label">MacBook</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%"></div>
                        </div>
                        <span class="resource-percent">Ïò§ÌîÑÎùºÏù∏</span>
                    </div>
                    <div class="resource-bar">
                        <span class="resource-label">VPN</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%"></div>
                        </div>
                        <span class="resource-percent">Ïó∞Í≤∞ ÏïàÎê®</span>
                    </div>
                </div>
                
                <div class="metrics-grid">
                    <div class="metric">
                        <div class="metric-label">ÎßàÏßÄÎßâ Ï†ëÏÜç</div>
                        <div class="metric-value">2ÏãúÍ∞Ñ Ï†Ñ</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">API ÌÇ§</div>
                        <div class="metric-value">Ïú†Ìö®</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Ïï± Î≤ÑÏ†Ñ</div>
                        <div class="metric-value">v1.2.3</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">ÏïåÎ¶º</div>
                        <div class="metric-value">ÌôúÏÑ±</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="sidebar">
            <!-- ÏãúÏä§ÌÖú ÏïåÎ¶º -->
            <div class="sidebar-panel">
                <div class="panel-title">üîî ÏãúÏä§ÌÖú ÏïåÎ¶º</div>
                <div class="alert info">
                    <span>‚ÑπÔ∏è</span>
                    Mac Mini ÏûÑÎ≤†Îî© Ï≤òÎ¶¨ Ï§ë (ÏßÑÌñâÎ•†: 78%)
                </div>
                <div class="alert warning">
                    <span>‚ö†Ô∏è</span>
                    Office ÎîîÎ∞îÏù¥Ïä§ Ïó∞Í≤∞ ÎåÄÍ∏∞ Ï§ë
                </div>
                <div class="alert error">
                    <span>üö®</span>
                    Mobile ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ VPN Ïó∞Í≤∞ ÎÅäÍπÄ
                </div>
            </div>
            
            <!-- NAS ÏÉÅÌÉú -->
            <div class="sidebar-panel">
                <div class="panel-title">üóÑÔ∏è NAS ÏÉÅÌÉú</div>
                <div class="nas-status">
                    <div class="nas-item">
                        <div class="nas-name">SnapCodex NAS</div>
                        <div class="nas-status-indicator">
                            <div class="status-dot green"></div>
                            <span>ÌôúÏÑ±</span>
                        </div>
                    </div>
                    <div class="nas-item">
                        <div class="nas-name">Desinsight2 NAS</div>
                        <div class="nas-status-indicator">
                            <div class="status-dot green"></div>
                            <span>ÎèôÍ∏∞Ìôî Ï§ë</span>
                        </div>
                    </div>
                    <div class="nas-item">
                        <div class="nas-name">Office NAS</div>
                        <div class="nas-status-indicator">
                            <div class="status-dot green"></div>
                            <span>Î∞±ÏóÖ ÏôÑÎ£å</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ÏÑ±Îä• Ï∞®Ìä∏ -->
            <div class="sidebar-panel">
                <div class="panel-title">üìä ÏãúÏä§ÌÖú ÏÑ±Îä•</div>
                <div class="performance-chart" id="performanceChart">
                    <!-- ÎèôÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÎêòÎäî Ï∞®Ìä∏ Î∞îÎì§ -->
                </div>
                <div style="font-size: 0.8em; color: #8892b0; text-align: center; margin-top: 5px;">
                    ÏµúÍ∑º 24ÏãúÍ∞Ñ ÌèâÍ∑† CPU ÏÇ¨Ïö©Î•†
                </div>
            </div>
        </div>
    </div>
    
    <!-- ÎîîÎ∞îÏù¥Ïä§ ÏÉÅÏÑ∏ Î™®Îã¨ -->
    <div id="deviceModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="modalContent">
                <!-- ÎèôÏ†ÅÏúºÎ°ú Î°úÎìúÎêòÎäî ÏÉÅÏÑ∏ Ï†ïÎ≥¥ -->
            </div>
        </div>
    </div>
    
    <script>
        // Ïã§ÏãúÍ∞Ñ Îç∞Ïù¥ÌÑ∞ ÏóÖÎç∞Ïù¥Ìä∏ ÏãúÎÆ¨Î†àÏù¥ÏÖò
        let updateInterval;
        let performanceData = [];
        
        // WebSocket Ïó∞Í≤∞ ÏãúÎÆ¨Î†àÏù¥ÏÖò
        function initializeWebSocket() {
            // Ïã§Ï†ú ÌôòÍ≤ΩÏóêÏÑúÎäî WebSocket Ïó∞Í≤∞
            console.log('üîó WebSocket Ïó∞Í≤∞ Ï¥àÍ∏∞Ìôî...');
            
            // Ïã§ÏãúÍ∞Ñ ÏóÖÎç∞Ïù¥Ìä∏ ÏãúÏûë
            updateInterval = setInterval(updateSystemData, 5000);
            
            // ÏÑ±Îä• Ï∞®Ìä∏ Ï¥àÍ∏∞Ìôî
            initializePerformanceChart();
        }
        
        // ÏãúÏä§ÌÖú Îç∞Ïù¥ÌÑ∞ ÏóÖÎç∞Ïù¥Ìä∏
        function updateSystemData() {
            // CPU/RAM ÏÇ¨Ïö©Î•† ÎûúÎç§ ÏóÖÎç∞Ïù¥Ìä∏
            updateResourceBars();
            
            // Ïò®ÎèÑ Î∞è Î©îÌä∏Î¶≠ ÏóÖÎç∞Ïù¥Ìä∏
            updateMetrics();
            
            // ÎßàÏßÄÎßâ ÏóÖÎç∞Ïù¥Ìä∏ ÏãúÍ∞Ñ
            document.getElementById('lastUpdate').textContent = 
                `ÎßàÏßÄÎßâ ÏóÖÎç∞Ïù¥Ìä∏: ${new Date().toLocaleTimeString()}`;
            
            // ÏÑ±Îä• Ï∞®Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏
            updatePerformanceChart();
        }
        
        function updateResourceBars() {
            const progressBars = document.querySelectorAll('.progress-fill');
            
            progressBars.forEach(bar => {
                const currentWidth = parseInt(bar.style.width);
                const newWidth = Math.max(5, Math.min(95, 
                    currentWidth + (Math.random() - 0.5) * 10));
                
                bar.style.width = newWidth + '%';
                
                // ÏÉâÏÉÅ ÏóÖÎç∞Ïù¥Ìä∏
                bar.className = 'progress-fill';
                if (newWidth > 80) bar.classList.add('danger');
                else if (newWidth > 60) bar.classList.add('warning');
                
                // ÌçºÏÑºÌä∏ ÌÖçÏä§Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏
                const percentElement = bar.parentElement.nextElementSibling;
                if (percentElement) {
                    percentElement.textContent = Math.round(newWidth) + '%';
                }
            });
        }
        
        function updateMetrics() {
            // ÏùëÎãµÏãúÍ∞Ñ ÏóÖÎç∞Ïù¥Ìä∏
            const responseTimeElements = document.querySelectorAll('.metric-value');
            responseTimeElements.forEach((element, index) => {
                if (element.textContent.includes('ms')) {
                    const newTime = Math.floor(Math.random() * 50) + 5;
                    element.textContent = newTime + 'ms';
                }
            });
        }
        
        function initializePerformanceChart() {
            const chart = document.getElementById('performanceChart');
            chart.innerHTML = '';
            
            // 24ÏãúÍ∞Ñ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± (24Í∞ú Î∞î)
            for (let i = 0; i < 24; i++) {
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                const height = Math.random() * 80 + 20;
                bar.style.height = height + '%';
                bar.title = `${i}Ïãú: ${Math.round(height)}%`;
                chart.appendChild(bar);
                performanceData.push(height);
            }
        }
        
        function updatePerformanceChart() {
            const bars = document.querySelectorAll('.chart-bar');
            bars.forEach((bar, index) => {
                // ÏÉàÎ°úÏö¥ ÎûúÎç§ ÎÜíÏù¥ ÏÉùÏÑ±
                const newHeight = Math.random() * 80 + 20;
                bar.style.height = newHeight + '%';
                bar.title = `${index}Ïãú: ${Math.round(newHeight)}%`;
                performanceData[index] = newHeight;
            });
        }
        
        // ÎîîÎ∞îÏù¥Ïä§ ÏÉÅÏÑ∏ Ï†ïÎ≥¥ Î™®Îã¨
        function showDeviceDetails(deviceId) {
            const modal = document.getElementById('deviceModal');
            const modalContent = document.getElementById('modalContent');
            
            const deviceDetails = {
                'home_imac': {
                    name: 'üñ•Ô∏è HOME iMac i7 64GB',
                    status: 'ÌôúÏÑ±',
                    role: 'Ï§ëÏïô Ï†úÏñ¥ ÏÑúÎ≤Ñ',
                    specs: {
                        cpu: 'Intel Core i7-8700K @ 3.70GHz',
                        ram: '64GB DDR4 2666MHz',
                        storage: '1TB SSD + 2TB HDD',
                        network: '1Gbps Ethernet'
                    },
                    services: [
                        'Docker Orchestration',
                        'API Gateway',
                        'Load Balancer',
                        'Central Dashboard',
                        'Monitoring Server'
                    ],
                    metrics: {
                        uptime: '2Ïùº 14ÏãúÍ∞Ñ 23Î∂Ñ',
                        requests: '12,847 req/hr',
                        errors: '0.02%',
                        latency: '12ms avg'
                    }
                },
                'mac_mini': {
                    name: '‚ö° Mac Mini M2 Pro 32GB',
                    status: 'Ïó∞Í≤∞ Ï§ë',
                    role: 'ÏûÑÎ≤†Îî© ÏÑúÎ≤Ñ',
                    specs: {
                        cpu: 'Apple M2 Pro 12-core',
                        ram: '32GB Unified Memory',
                        storage: '1TB SSD',
                        gpu: '19-core GPU'
                    },
                    services: [
                        'Vector Embedding',
                        'Document Processing',
                        'Text Analysis',
                        'Similarity Search',
                        'ChromaDB'
                    ],
                    metrics: {
                        embeddings: '847 embeddings/min',
                        queue: '23 documents',
                        throughput: '2.3MB/s',
                        accuracy: '99.8%'
                    }
                },
                'office_imac': {
                    name: 'üè¢ Office iMac i7 40GB',
                    status: 'ÎåÄÍ∏∞',
                    role: 'UI ÏÑúÎ≤Ñ',
                    specs: {
                        cpu: 'Intel Core i7-9700K @ 3.60GHz',
                        ram: '40GB DDR4 2666MHz',
                        storage: '512GB SSD',
                        network: '1Gbps Ethernet'
                    },
                    services: [
                        'Streamlit Dashboard',
                        'Gradio Interface',
                        'Web UI',
                        'User Management',
                        'Session Handling'
                    ],
                    metrics: {
                        sessions: '0 active',
                        port: '8004',
                        status: 'Ï§ÄÎπÑ ÏôÑÎ£å',
                        ssl: 'ÌôúÏÑ±ÌôîÎê®'
                    }
                },
                'mac_studio': {
                    name: 'üöÄ Mac Studio M4 Pro 64GB',
                    status: 'Ï§ÄÎπÑ Ï§ë',
                    role: 'Ï∂îÎ°† ÏÑúÎ≤Ñ',
                    specs: {
                        cpu: 'Apple M4 Pro 14-core',
                        ram: '64GB Unified Memory',
                        storage: '2TB SSD',
                        gpu: '20-core GPU'
                    },
                    services: [
                        'LLM Inference',
                        'Ollama Runtime',
                        'Model Management',
                        'Response Generation',
                        'Context Handling'
                    ],
                    metrics: {
                        model: 'Llama 3.2 70B',
                        requests: '0/50 concurrent',
                        temperature: '0.7',
                        max_tokens: '4096'
                    }
                },
                'mobile': {
                    name: 'üì± Mobile Ecosystem',
                    status: 'Ïò§ÌîÑÎùºÏù∏',
                    role: 'ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏',
                    specs: {
                        devices: 'iPhone 15 Pro, MacBook Pro',
                        connectivity: 'VPN, 4G/5G, WiFi',
                        apps: 'iOS App, PWA, Browser',
                        sync: 'iCloud, Dropbox'
                    },
                    services: [
                        'Mobile App',
                        'Push Notifications',
                        'Offline Mode',
                        'Data Sync',
                        'Authentication'
                    ],
                    metrics: {
                        lastSeen: '2ÏãúÍ∞Ñ Ï†Ñ',
                        apiVersion: 'v1.2.3',
                        notifications: 'ÌôúÏÑ±',
                        dataUsage: '12.4MB'
                    }
                }
            };
            
            const device = deviceDetails[deviceId];
            if (!device) return;
            
            modalContent.innerHTML = `
                <h2>${device.name}</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                    <div>
                        <h3 style="color: #667eea; margin-bottom: 10px;">üîß ÏãúÏä§ÌÖú ÏÇ¨Ïñë</h3>
                        <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px;">
                            ${Object.entries(device.specs).map(([key, value]) => `
                                <div style="margin: 8px 0;">
                                    <strong style="color: #8892b0;">${key.toUpperCase()}:</strong> ${value}
                                </div>
                            `).join('')}
                        </div>
                        
                        <h3 style="color: #667eea; margin: 20px 0 10px 0;">üìä Ïã§ÏãúÍ∞Ñ Î©îÌä∏Î¶≠</h3>
                        <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px;">
                            ${Object.entries(device.metrics).map(([key, value]) => `
                                <div style="margin: 8px 0;">
                                    <strong style="color: #8892b0;">${key}:</strong> 
                                    <span style="color: #4CAF50;">${value}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div>
                        <h3 style="color: #667eea; margin-bottom: 10px;">‚öôÔ∏è Ïã§Ìñâ Ï§ëÏù∏ ÏÑúÎπÑÏä§</h3>
                        <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px;">
                            ${device.services.map(service => `
                                <div style="margin: 8px 0; padding: 8px; background: rgba(102, 126, 234, 0.1); border-radius: 4px; border-left: 3px solid #667eea;">
                                    ${service}
                                </div>
                            `).join('')}
                        </div>
                        
                        <h3 style="color: #667eea; margin: 20px 0 10px 0;">üéØ Ïï°ÏÖò</h3>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button onclick="restartDevice('${deviceId}')" style="background: #667eea; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">Ïû¨ÏãúÏûë</button>
                            <button onclick="connectDevice('${deviceId}')" style="background: #4CAF50; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">Ïó∞Í≤∞</button>
                            <button onclick="viewLogs('${deviceId}')" style="background: #FF9800; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">Î°úÍ∑∏ Î≥¥Í∏∞</button>
                        </div>
                    </div>
                </div>
            `;
            
            modal.style.display = 'block';
        }
        
        // ÎîîÎ∞îÏù¥Ïä§ Ïï°ÏÖò Ìï®ÏàòÎì§
        function restartDevice(deviceId) {
            alert(`${deviceId} ÎîîÎ∞îÏù¥Ïä§Î•º Ïû¨ÏãúÏûëÌï©ÎãàÎã§...`);
            // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî API Ìò∏Ï∂ú
        }
        
        function connectDevice(deviceId) {
            alert(`${deviceId} ÎîîÎ∞îÏù¥Ïä§Ïóê Ïó∞Í≤∞ÏùÑ ÏãúÎèÑÌï©ÎãàÎã§...`);
            // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Ïó∞Í≤∞ Î°úÏßÅ
        }
        
        function viewLogs(deviceId) {
            alert(`${deviceId} ÎîîÎ∞îÏù¥Ïä§Ïùò Î°úÍ∑∏Î•º ÌôïÏù∏Ìï©ÎãàÎã§...`);
            // Ïã§Ï†ú Íµ¨ÌòÑÏóêÏÑúÎäî Î°úÍ∑∏ Î∑∞Ïñ¥ Ïó¥Í∏∞
        }
        
        // Î™®Îã¨ Îã´Í∏∞
        document.querySelector('.close').onclick = function() {
            document.getElementById('deviceModal').style.display = 'none';
        }
        
        window.onclick = function(event) {
            const modal = document.getElementById('deviceModal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }
        
        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ï¥àÍ∏∞Ìôî
        window.onload = function() {
            console.log('üöÄ Desinsight Î™®ÎãàÌÑ∞ÎßÅ ÎåÄÏãúÎ≥¥Îìú v2.0 ÏãúÏûë');
            initializeWebSocket();
            
            // ÌôòÏòÅ Î©îÏãúÏßÄ
            setTimeout(() => {
                console.log('‚úÖ Ïã§ÏãúÍ∞Ñ Î™®ÎãàÌÑ∞ÎßÅ ÌôúÏÑ±ÌôîÎê®');
            }, 1000);
        };
        
        // ÌÇ§Î≥¥Îìú Îã®Ï∂ïÌÇ§
        document.addEventListener('keydown', function(event) {
            // ESC ÌÇ§Î°ú Î™®Îã¨ Îã´Í∏∞
            if (event.key === 'Escape') {
                document.getElementById('deviceModal').style.display = 'none';
            }
            
            // F5 ÌÇ§Î°ú Í∞ïÏ†ú ÏÉàÎ°úÍ≥†Ïπ®
            if (event.key === 'F5') {
                event.preventDefault();
                updateSystemData();
                console.log('üîÑ ÏàòÎèô ÏÉàÎ°úÍ≥†Ïπ® ÏôÑÎ£å');
            }
        });
        
        // ÌéòÏù¥ÏßÄ Ïà®ÍπÄ/ÌëúÏãú Ïãú ÏóÖÎç∞Ïù¥Ìä∏ Ï§ëÏßÄ/Ïû¨ÏãúÏûë
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                if (updateInterval) {
                    clearInterval(updateInterval);
                    console.log('‚è∏Ô∏è Î∞±Í∑∏ÎùºÏö¥Îìú Î™®Îìú - ÏóÖÎç∞Ïù¥Ìä∏ ÏùºÏãúÏ†ïÏßÄ');
                }
            } else {
                updateInterval = setInterval(updateSystemData, 5000);
                console.log('‚ñ∂Ô∏è Ìè¨Í∑∏ÎùºÏö¥Îìú Î™®Îìú - ÏóÖÎç∞Ïù¥Ìä∏ Ïû¨ÏãúÏûë');
            }
        });
    </script>
</body>
</html> 